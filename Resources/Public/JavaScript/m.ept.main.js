function ajaxRequest(e,t,o){$("#ecom-product-tools-ajax-indicator").css("display","inline-block"),$.ajax({async:"true",url:"index.php",type:"POST",dataType:"json",data:{eID:"EcomProductTools",id:parseInt(pid),L:parseInt(langUid),type:1425988258,request:{controllerName:"AjaxRequest",actionName:e,arguments:t}},success:o,complete:function(){$("#ecom-product-tools-ajax-indicator").hide()},error:function(e,t,o){console.log("Request failed with "+t+": "+o+"!")}})}function resetDC(e,t){$(e).attr("disabled","disabled"),$(e).find("option:not(:eq(0))").remove(),$("#product-select-info").show(),t?($("#product-select-discontinued").removeAttr("disabled"),$("#checkbox-discontinued").removeClass("disabled")):($("#product-select-discontinued").attr("disabled","disabled").attr("checked",!1),$("#checkbox-discontinued").addClass("disabled")),$("#product-data").html("")}function initializeCollapse(){$(".panel-title").each(function(e){e>0&&$(this).addClass("collapsed")}),$(".collapse.in").each(function(e){e>0&&$(this).removeClass("in")})}!function(e){initializeCollapse(),e("#product-select-division").on("change",function(){resetDC("#product-select-category, #product-select-product",!1),0!=this.value&&ajaxRequest("getProductCategoriesByProductDivision",{division:this.value},function(t){if(t.length){var o=e("#product-select-category");o.removeAttr("disabled");for(var c in t)o.append('<option value="'+t[c].uid+'">'+t[c].title+"</option>")}else e("#product-select-info").hide(),e("#product-data").html('<p class="alert alert-info"><i class="fa fa-info-circle fa-fw fa-lg"></i> '+noCatMsg+"</p>")})}),e("#product-select-category").on("change",function(){resetDC("#product-select-product",!0),0!=this.value&&ajaxRequest("getProductsByProductCategory",{category:this.value,discontinued:1==e("#product-select-discontinued:checked").val()},function(t){if(t.length){var o=e("#product-select-product");o.removeAttr("disabled");for(var c in t)o.append('<option value="'+t[c].uid+'">'+t[c].title+"</option>")}else e("#product-select-info").hide(),e("#product-data").html('<p class="alert alert-info"><i class="fa fa-info-circle fa-fw fa-lg"></i> '+noProdMsg+"</p>")})}),e("#product-select-product").on("change",function(){e("#product-data").html(""),0!=this.value&&ajaxRequest("getProductData",{product:this.value},function(t){e("#product-data").html(t.html),initializeCollapse(),e("#ecomproducttools-accordion").collapse(),e("#product-select-info").hide()})}),e("#product-select-discontinued").on("change",function(){resetDC("#product-select-product",!0);var t=e("#product-select-category");0!=t.val()?ajaxRequest("getProductsByProductCategory",{category:t.val(),discontinued:this.checked},function(t){if(t.length){var o=e("#product-select-product");o.removeAttr("disabled");for(var c in t)o.append('<option value="'+t[c].uid+'">'+t[c].title+"</option>")}}):resetDC("#product-select-product",!0)}),0==e("#product-select-division option:selected").first().val()&&(resetDC("#product-select-category, #product-select-product",!1),e("#product-select-division").val(0))}(jQuery);